<div data-role="view" data-title="" data-layout="main" data-model="app.avaliacoesView.avaliacoesViewModel" 
     data-show="app.avaliacoesView.onResultadoShow">


    <!-- <div class="descricao-wrap">
        <a data-role="backbutton" data-align="left"></a> 
    </div> -->

    <!-- <div class="section-name-wrap resultado">
        <a id="resultBackButton" data-role="backbutton" data-align="left" style="display:none"></a>

        <div class="section-icon-name flaticon-tests">
            <span class="km-icon" data-icon="info"></span>
            <span>Quizz (Resultado)</span>
        </div>
    </div> -->

    <h3 data-bind="text: currentItem.Disciplina.Nome"></h3>
    <div class="prof-disciplina-wrap">
        <div class="user-thumb rank-thumb thumb-sm">
            <!-- <img class="km-thumbnail" src="../../styles/images/user-male.png" alt="Your photo"> -->
            <span class="km-thumbnail" style="background-image: url(../../styles/images/user-male.png)"></span>
        </div>
        <p><span data-bind="text: currentItem.Disciplina.Professor.Nome"></span></p>
    </div>

    <div class="section-icon-name flaticon-tests">
        <span class="km-icon" data-icon="info"></span>
        <h2 data-bind="text: currentItem.Titulo"></h2>
    </div>

    <p>Total <span data-bind="text: currentItem.TotalPontos"></span> Ponto(s)</p>
    <!-- <p>(Total <b><span data-bind="text: currentItem.Respostas.TotalPontos"></span></b> Pontos)</p> -->

    <div>
        <ul class="masterDetailView" data-role="listview" data-auto-bind="false" data-template="questoesResultadoTemplate" data-type="group"
            data-bind="{ source: currentItemRespostas }" data-pull-to-refresh="false" data-endless-scroll="false"  id="resultadoQuestionario">
        </ul>
    </div>
    
    <div id="resultOkButton" class="button-group button-group-vertical">
        <a class="primary" data-role="button" data-bind="events: { click: respostasOk }">Ok</a>
    </div>

    <script type="text/x-kendo-template" id="questoesResultadoTemplate">
        # data = app.avaliacoesView.avaliacoesViewModel.fixHierarchicalData(data); #
        #console.log('result', data); #

        <h3>#: data['Titulo'] #</h3>

        # console.log('result.html: ', 'correta: ', data.OpcaoCorreta, 'resposta', data.Resposta);  #
        
        # if (data.OpcaoCorreta == data.Resposta) { #
            <span class="k-icon k-i-tick"></span>
        # } else { #
            <span class="k-icon k-i-close"></span>
        # } #

        # for (var i=0; i < data.Opcoes.length; i ++) { #
        #     opcao = data.Opcoes[i]; #
        #     opcaoName = data.PerguntaId; #
        #     opcaoId = opcaoName+'-OP-R-'+opcao.Opcao; #

            <div class="km-nova">
                <input type="radio" class="km-radio" name="#: opcaoName #" id="#: opcaoId #" value="#: opcao.Opcao #" ></input>
                <label class="km-radio-label" for="#: opcaoId #"> #:  opcao.Texto # </label>

                # console.log('Resultado Situação: ', data.SituacaoAvaliacao); #

                # if (data.SituacaoAvaliacao == 'expirado') { #
                    # if (opcao.Opcao == data.OpcaoCorreta) { #
                        <span class="k-icon k-i-tick"></span>
                    # } #
                # } #
            </div>
        # } #

    </script>
</div>
